{% extends 'base.html' %}


{% block content %}

<style>
    h2 {
        margin: 0 0 15px 5px;
        color: #be1c18;
        font-size: 22px;
    }
    .container {
        width: 700px;
        margin: 80px auto 20px auto;
        background: #ffffff;
        padding: 15px;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 0px 0px 7px -1px rgba(0, 0, 0, 0.75);
        -moz-box-shadow: 0px 0px 7px -1px rgba(0, 0, 0, 0.75);
        box-shadow: 0px 0px 7px -1px rgba(0, 0, 0, 0.75);
    }
    input {
        width: calc(100% - 35px);
        height: 30px;
        padding: 5px 15px 5px 15px;
        border: 1px solid #9f9f9f;
        -webkit-border-radius: 15px;
        -moz-border-radius: 15px;
        border-radius: 15px;
        outline: none;
        -webkit-transition: 0.3s;
        -moz-transition: 0.3s;
        -ms-transition: 0.3s;
        -o-transition: 0.3s;
        transition: 0.3s;
        margin-top: 0;
        font-size: 20px;
        background: transparent;
        margin-bottom: 20px;
    }

    .buttons-group {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .buttons-group button {
        font-size: 20px;
        border: 1px solid #be1c18;
        padding: 5px 50px;
        -webkit-border-radius: 100px;
        -moz-border-radius: 100px;
        border-radius: 100px;
        background: #be1c18;
        color: #ffffff;
        cursor: pointer;
        -webkit-transition: 0.3s;
        -moz-transition: 0.3s;
        -ms-transition: 0.3s;
        -o-transition: 0.3s;
        transition: 0.3s;
    }

    .buttons-group button:hover {
        -webkit-box-shadow: 0px 0px 14px -1px rgba(0, 0, 0, 0.75);
        -moz-box-shadow: 0px 0px 14px -1px rgba(0, 0, 0, 0.75);
        box-shadow: 0px 0px 14px -1px rgba(0, 0, 0, 0.75);
        background: #ffffff;
        color: #be1c18;
    }

    .buttons-group a {
        display: inline-block;
        text-decoration: none;
        color: #be1c18;
        border: 1px solid #be1c18;
        padding: 5px 50px;
        -webkit-border-radius: 100px;
        -moz-border-radius: 100px;
        border-radius: 100px;
        -webkit-transition: 0.3s;
        -moz-transition: 0.3s;
        -ms-transition: 0.3s;
        -o-transition: 0.3s;
        transition: 0.3s;
    }

    .buttons-group a:hover {
        color: #ffffff;
        background: #be1c18;
    }

    p {
        font-size: 18px;
    }
    .big-container {
        width: 1270px;
        margin: 0 auto;
    }

    .links {
        display: flex;
        margin-top: 50px;
    }
    .links a {
        position: relative;
        overflow: hidden;
        -webkit-transition: 0.3s;
        -moz-transition: 0.3s;
        -ms-transition: 0.3s;
        -o-transition: 0.3s;
        transition: 0.3s;
        text-decoration: none;
    }
    .links a:hover {
        width: 150px;
        justify-content: left;
    }
    .links__home a {
        background: #be1c18;
        border-radius: 200px;
        width: 35px;
        height: 35px;
        display: flex;
        border: 1px solid #be1c18;
    }
    .links__home a img {
        margin: 4px 0 0 5px;
    }
    .links__home a p {
        margin: 8px 0 0 10px;
        color: #ffffff;
        white-space: nowrap;
    }
    .links__return a {
        background: transparent;
        border-radius: 200px;
        width: 35px;
        height: 35px;
        display: flex;
        border: 1px solid #be1c18;
        margin-left: 10px;
        -webkit-background-size: 25px;
        background-size: 25px;
        background-position: 6px 5px;
    }
    .links__return a img {
        margin: 5px 0 0 6px;
    }
    .links__return a p {
        margin: 8px 0 0 10px;
        color: #ffffff;
        white-space: nowrap;
    }
    .links__return a:hover {
        background: #be1c18 url(https://changellenge.com/local/templates/main/assets/images/service/back-arrow-white.png) no-repeat 6px 5px;
        -webkit-background-size: 25px;
        background-size: 25px;
    }
    .links__return a:hover img {
        opacity: 0;
    }
    .group__single {
        position: relative;
    }
    .ui-autocomplete {
        background: #ffffff;
        font-size: 20px;
        padding: 0;
    }
    .ui-state-focus {
        border: 1px solid #be1c18 !important;
        background: #be1c18 !important;
        color: #ffffff !important;
    }
</style>
<div class="big-container">
    <div class="links">
        <div class="links__home">
            <a href="/">
                <img src="https://changellenge.com/local/templates/main/assets/images/service/home.png" alt="Home" width="25" height="25">
                <p>На главную</p>
            </a>
        </div>
        <div class="links__return">
            <a href="/utmgenerator/hr/pageurl/">
                <img src="https://changellenge.com/local/templates/main/assets/images/service/back-arrow.png" alt="Home" width="25" height="25">
                <p>Вернуться</p>
            </a>
        </div>
    </div>
</div>
<div class="container">
    <h2>Генерация UTM-метки. Шаг 3</h2>
    <form action="/utmgenerator/hr/add/utmupdate" id="personForm"
          role="form" method="POST">
        {% csrf_token %}

        <div class="group">
            <div class="group__single">
                <p class="text">{{ nameinsertfirst }}</p>
            </div>
            <div class="group__single">
                {{ form.utm_campaign }}
            </div>
        </div>
        <div class="group">
            <div class="group__single">
                <p class="text">{{ nameinsertsecond }}</p>
            </div>
            <div class="group__single">
                {{ form.utm_term }}
            </div>
        </div>
        <div class="group">
            <div class="group__single">
                <p class="text">{{ nameinsertthird }}</p>
            </div>
            <div class="group__single">
                {{ form.utm_content }}
            </div>
        </div>
        <div class="buttons-group">
            <a href="javascript:void(0);" onclick="javascript:history.go(-1);" class="prev">Назад</a>
            <button type="submit" class="next">Далее</button>
        </div>
    </form>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script src="//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/jquery-ui.min.js"></script>
<script>

    $(document).ready(function() {
        $('.group').find('input').attr('placeholder', 'Введите текст в поле')
        let cities = 'Абаза, Абакан, Абдулино, Абинск, Агидель, Агрыз, Адыгейск, Азнакаево, Азов, Ак-Довурак, Аксай, Алагир, Алапаевск, Алатырь, Алдан, Алейск, Александров, Александровск, Александровск-Сахалинский, Алексеевка, Алексин, Алзамай, Алупка, Алушта, Альметьевск, Амурск, Анадырь, Анапа, Ангарск, Андреаполь, Анжеро-Судженск, Анива, Апатиты, Апрелевка, Апшеронск, Арамиль, Аргун, Ардатов, Ардон, Арзамас, Аркадак, Армавир, Армянск, Арсеньев, Арск, Артём, Артёмовск, Артёмовский, Архангельск, Асбест, Асино, Астрахань, Аткарск, Ахтубинск, Ачинск, Аша, Бабаево, Бабушкин, Бавлы, Багратионовск, Байкальск, Баймак, Бакал, Баксан, Балабаново, Балаково, Балахна, Балашиха, Балашов, Балей, Балтийск, Барабинск, Барнаул, Барыш, Батайск, Бахчисарай, Бежецк, БелаяКалитва, БелаяХолуница, Белгород, Белебей, Белинский, Белово, Белогорск, Белогорск, Белозерск, Белокуриха, Беломорск, Белорецк, Белореченск, Белоусово, Белоярский, Белый, Белёв, Бердск, Березники, Берёзовский, Берёзовский, Беслан, Бийск, Бикин, Билибино, Биробиджан, Бирск, Бирюсинск, Бирюч, Благовещенск(Амурскаяобласть), Благовещенск(Башкортостан), Благодарный, Бобров, Богданович, Богородицк, Богородск, Боготол, Богучар, Бодайбо, Бокситогорск, Болгар, Бологое, Болотное, Болохово, Болхов, БольшойКамень, Бор, Борзя, Борисоглебск, Боровичи, Боровск, Бородино, Братск, Бронницы, Брянск, Бугульма, Бугуруслан, Будённовск, Бузулук, Буинск, Буй, Буйнакск, Бутурлиновка, Валдай, Валуйки, Велиж, ВеликиеЛуки, ВеликийНовгород, ВеликийУстюг, Вельск, Венёв, Верещагино, Верея, Верхнеуральск, ВерхнийТагил, ВерхнийУфалей, ВерхняяПышма, ВерхняяСалда, ВерхняяТура, Верхотурье, Верхоянск, Весьегонск, Ветлуга, Видное, Вилюйск, Вилючинск, Вихоревка, Вичуга, Владивосток, Владикавказ, Владимир, Волгоград, Волгодонск, Волгореченск, Волжск, Волжский, Вологда, Володарск, Волоколамск, Волосово, Волхов, Волчанск, Вольск, Воркута, Воронеж, Ворсма, Воскресенск, Воткинск, Всеволожск, Вуктыл, Выборг, Выкса, Высоковск, Высоцк, Вытегра, ВышнийВолочёк, Вяземский, Вязники, Вязьма, ВятскиеПоляны, ГавриловПосад, Гаврилов-Ям, Гагарин, Гаджиево, Гай, Галич, Гатчина, Гвардейск, Гдов, Геленджик, Георгиевск, Глазов, Голицыно, Горбатов, Горно-Алтайск, Горнозаводск, Горняк, Городец, Городище, Городовиковск, Гороховец, ГорячийКлюч, Грайворон, Гремячинск, Грозный, Грязи, Грязовец, Губаха, Губкин, Губкинский, Гудермес, Гуково, Гулькевичи, Гурьевск, Гурьевск, Гусев, Гусиноозёрск, Гусь-Хрустальный, Давлеканово, ДагестанскиеОгни, Далматово, Дальнегорск, Дальнереченск, Данилов, Данков, Дегтярск, Дедовск, Демидов, Дербент, Десногорск, Джанкой, Дзержинск, Дзержинский, Дивногорск, Дигора, Димитровград, Дмитриев, Дмитров, Дмитровск, Дно, Добрянка, Долгопрудный, Долинск, Домодедово, Донецк, Донской, Дорогобуж, Дрезна, Дубна, Дубовка, Дудинка, Духовщина, Дюртюли, Дятьково, Евпатория, Егорьевск, Ейск, Екатеринбург, Елабуга, Елец, Елизово, Ельня, Еманжелинск, Емва, Енисейск, Ермолино, Ершов, Ессентуки, Ефремов, Железноводск, Железногорск(Красноярскийкрай), Железногорск(Курскаяобласть), Железногорск-Илимский, Жердевка, Жигулёвск, Жиздра, Жирновск, Жуков, Жуковка, Жуковский, Завитинск, Заводоуковск, Заволжск, Заволжье, Задонск, Заинск, Закаменск, Заозёрный, Заозёрск, ЗападнаяДвина, Заполярный, Зарайск, Заречный(Пензенскаяобласть), Заречный(Свердловскаяобласть), Заринск, Звенигово, Звенигород, Зверево, Зеленогорск, Зеленоградск, Зеленодольск, Зеленокумск, Зерноград, Зея, Зима, Златоуст, Злынка, Змеиногорск, Знаменск, Зубцов, Зуевка, Ивангород, Иваново, Ивантеевка, Ивдель, Игарка, Ижевск, Избербаш, Изобильный, Иланский, Инза, Инкерман, Иннополис, Инсар, Инта, Ипатово, Ирбит, Иркутск, Исилькуль, Искитим, Истра, Ишим, Ишимбай, Йошкар-Ола, Кадников, Казань, Калач, Калач-на-Дону, Калачинск, Калининград, Калининск, Калтан, Калуга, Калязин, Камбарка, Каменка, Каменногорск, Каменск-Уральский, Каменск-Шахтинский, Камень-на-Оби, Камешково, Камызяк, Камышин, Камышлов, , 	, , Канаш, Кандалакша, Канск, Карабаново, Карабаш, Карабулак, Карасук, Карачаевск, Карачев, Каргат, Каргополь, Карпинск, Карталы, Касимов, Касли, Каспийск, Катав-Ивановск, Катайск, Качканар, Кашин, Кашира, Кедровый, Кемерово, Кемь, Керчь, Кизел, Кизилюрт, Кизляр, Кимовск, Кимры, Кингисепп, Кинель, Кинешма, Киреевск, Киренск, Киржач, Кириллов, Кириши, Киров(Калужскаяобласть), Киров(Кировскаяобласть), Кировград, Кирово-Чепецк, Кировск(Ленинградскаяобласть), Кировск(Мурманскаяобласть), Кирс, Кирсанов, Киселёвск, Кисловодск, Клин, Клинцы, Княгинино, Ковдор, Ковров, Ковылкино, Когалым, Кодинск, Козельск, Козловка, Козьмодемьянск, Кола, Кологрив, Коломна, Колпашево, Кольчугино, Коммунар, Комсомольск, Комсомольск-на-Амуре, Конаково, Кондопога, Кондрово, Константиновск, Копейск, Кораблино, Кореновск, Коркино, Королёв, Короча, Корсаков, Коряжма, Костерёво, Костомукша, Кострома, Котельники, Котельниково, Котельнич, Котлас, Котово, Котовск, Кохма, Красавино, Красноармейск, Красноармейск(Саратовскаяобласть), Красновишерск, Красногорск, Краснодар, Краснозаводск, Краснознаменск(Калининградскаяобласть), Краснознаменск, Краснокаменск, Краснокамск, Красноперекопск, Краснослободск(Волгоградскаяобласть), Краснослободск(Мордовия), Краснотурьинск, Красноуральск, Красноуфимск, Красноярск, КрасныйКут, КрасныйСулин, КрасныйХолм, Кремёнки, Кропоткин, Крымск, Кстово, Кубинка, Кувандык, Кувшиново, Кудымкар, Кузнецк, Куйбышев, Кулебаки, Кумертау, Кунгур, Купино, Курган, Курганинск, Курильск, Курлово, Куровское, Курск, Куртамыш, Курчатов, Куса, Кушва, Кызыл, Кыштым, Кяхта, Лабинск, Лабытнанги, Лагань, Ладушкин, Лаишево, Лакинск, Лангепас, Лахденпохья, Лебедянь, Лениногорск, Ленинск, Ленинск-Кузнецкий, Ленск, Лермонтов, Лесной, Лесозаводск, Лесосибирск, Ливны, Ликино-Дулёво, Липецк, Липки, Лиски, Лихославль, Лобня, ЛодейноеПоле, Лосино-Петровский, Луга, Луза, Лукоянов, Луховицы, Лысково, Лысьва, Лыткарино, Льгов, Любань, Люберцы, Любим, Людиново, Лянтор, Магадан, Магас, Магнитогорск, Майкоп, Майский, Макаров, Макарьев, Макушино, МалаяВишера, Малгобек, Малмыж, Малоархангельск, Малоярославец, Мамадыш, Мамоново, Мантурово, Мариинск, МариинскийПосад, Маркс, Махачкала, Мглин, Мегион, Медвежьегорск, Медногорск, Медынь, Межгорье, Междуреченск, Мезень, Меленки, Мелеуз, Менделеевск, Мензелинск, Мещовск, Миасс, Микунь, Миллерово, МинеральныеВоды, Минусинск, Миньяр, Мирный(Архангельскаяобласть), Мирный(Якутия), Михайлов, Михайловка, Михайловск(Свердловскаяобласть), Михайловск(Ставропольскийкрай), Мичуринск, Могоча, Можайск, Можга, Моздок, Мончегорск, Морозовск, Моршанск, Москва, Мосальск, Муравленко, Мураши, Мурманск, Муром, Мценск, Мыски, Мытищи, Мышкин, НабережныеЧелны, Навашино, Наволоки, Надым, Назарово, Назрань, Называевск, Нальчик, Нариманов, Наро-Фоминск, Нарткала, Нарьян-Мар, Находка, Невель, Невельск, Невинномысск, Невьянск, Нелидово, Неман, Нерехта, Нерчинск, Нерюнгри, Нестеров, Нефтегорск, Нефтекамск, Нефтекумск, Нефтеюганск, Нея, Нижневартовск, Нижнекамск, Нижнеудинск, НижниеСерги, НижнийЛомов, НижнийНовгород, НижнийТагил, НижняяСалда, НижняяТура, Николаевск, Николаевск-на-Амуре, Никольск(Вологодскаяобласть), Никольск(Пензенскаяобласть), Никольское, НоваяЛадога, НоваяЛяля, Новоалександровск, Новоалтайск, Новоаннинский, Нововоронеж, Новодвинск, Новозыбков, Новокубанск, Новокузнецк, Новокуйбышевск, Новомичуринск, Новомосковск, Новопавловск, Новоржев, Новороссийск, Новосибирск, Новосиль, Новосокольники, Новотроицк, Новоузенск, Новоульяновск, Новоуральск, Новохопёрск, Новочебоксарск, Новочеркасск, Новошахтинск, НовыйОскол, НовыйУренгой, Ногинск, Нолинск, Норильск, Ноябрьск, Нурлат, Нытва, Нюрба, Нягань, Нязепетровск, Няндома, Облучье, Обнинск, Обоянь, Обь, Одинцово, Озёрск(Калининградскаяобласть), Озёрск(Челябинскаяобласть), Озёры, Октябрьск, Октябрьский, Окуловка, Оленегорск, Олонец, Олёкминск, Омск, Омутнинск, Онега, Опочка, Оренбург, Орехово-Зуево, Орлов, Орск, Орёл, Оса, Осинники, Осташков, Остров, Островной, Острогожск, Отрадное, Отрадный, Оха, Оханск, Очёр, Павлово, Павловск, ПавловскийПосад, Палласовка, Партизанск, Певек, Пенза, Первомайск, Первоуральск, Перевоз, Пересвет, Переславль-Залесский, Пермь, Пестово, ПетровВал, Петровск, Петровск-Забайкальский, , 	, , Петрозаводск, Петропавловск-Камчатский, Петухово, Петушки, Печора, Печоры, Пикалёво, Пионерский, Питкяранта, Плавск, Пласт, Плёс, Поворино, Подольск, Подпорожье, Покачи, Покров, Покровск, Полевской, Полесск, Полысаево, ПолярныеЗори, Полярный, Поронайск, Порхов, Похвистнево, Почеп, Починок, Пошехонье, Правдинск, Приволжск, Приморск(Калининградскаяобласть), Приморск(Ленинградскаяобласть), Приморско-Ахтарск, Приозерск, Прокопьевск, Пролетарск, Протвино, Прохладный, Псков, Пугачёв, Пудож, Пустошка, Пучеж, Пушкино, Пущино, Пыталово, Пыть-Ях, Пятигорск, Радужный(Владимирскаяобласть), Радужный(Ханты-МансийскийАО–Югра), Райчихинск, Раменское, Рассказово, Ревда, Реж, Реутов, Ржев, Родники, Рославль, Россошь, Ростов, Ростов-на-Дону, Рошаль, Ртищево, Рубцовск, Рудня, Руза, Рузаевка, Рыбинск, Рыбное, Рыльск, Ряжск, Рязань, Саки, Салават, Салаир, Салехард, Сальск, Самара, Санкт-Петербург, Саранск, Сарапул, Саратов, Саров, Сасово, Сатка, Сафоново, Саяногорск, Саянск, Светлогорск, Светлоград, Светлый, Светогорск, Свирск, Свободный, Себеж, Севастополь, Северо-Курильск, Северобайкальск, Северодвинск, Североморск, Североуральск, Северск, Севск, Сегежа, Сельцо, Семикаракорск, Семилуки, Семёнов, Сенгилей, Серафимович, Сергач, СергиевПосад, Сердобск, Серов, Серпухов, Сертолово, Сибай, Сим, Симферополь, Сковородино, Скопин, Славгород, Славск, Славянск-на-Кубани, Сланцы, Слободской, Слюдянка, Смоленск, Снежинск, Снежногорск, Собинка, Советск(Калининградскаяобласть), Советск(Кировскаяобласть), Советск(Тульскаяобласть), СоветскаяГавань, Советский, Сокол, Солигалич, Соликамск, Солнечногорск, Соль-Илецк, Сольвычегодск, Сольцы, Сорочинск, Сорск, Сортавала, Сосенский, Сосновка, Сосновоборск, СосновыйБор, Сосногорск, Сочи, Спас-Деменск, Спас-Клепики, Спасск, Спасск-Дальний, Спасск-Рязанский, Среднеколымск, Среднеуральск, Сретенск, Ставрополь, СтараяКупавна, СтараяРусса, Старица, Стародуб, СтарыйКрым, СтарыйОскол, Стерлитамак, Стрежевой, Строитель, Струнино, Ступино, Суворов, Судак, Суджа, Судогда, Суздаль, Суоярви, Сураж, Сургут, Суровикино, Сурск, Сусуман, Сухиничи, СухойЛог, Сызрань, Сыктывкар, Сысерть, Сычёвка, Сясьстрой, Тавда, Таганрог, Тайга, Тайшет, Талдом, Тамбов, Тара, Тарко-Сале, Таруса, Татарск, Таштагол, Тверь, Теберда, Тейково, Темников, Темрюк, Терек, Тетюши, Тимашёвск, Тихвин, Тихорецк, Тобольск, Тогучин, Тольятти, Томари, Томмот, Томск, Топки, Торжок, Торопец, Тосно, Тотьма, Троицк, Трубчевск, Трёхгорный, Туапсе, Туймазы, Тула, Тулун, Туран, Туринск, Тутаев, Тында, Тырныауз, Тюкалинск, Тюмень, Уварово, Углегорск, Углич, Удачный, Удомля, Ужур, Узловая, Улан-Удэ, Ульяновск, Унеча, Урай, Урень, Уржум, Урус-Мартан, Урюпинск, Усинск, Усмань, Усолье, Усолье-Сибирское, Уссурийск, Усть-Джегута, Усть-Илимск, Усть-Катав, Усть-Кут, Усть-Лабинск, Устюжна, Уфа, Ухта, Учалы, Уяр, Фатеж, Феодосия, Фокино, Фролово, Фрязино, Фурманов, Хабаровск, Хадыженск, Ханты-Мансийск, Харабали, Харовск, Хасавюрт, Хвалынск, Хилок, Химки, Холм, Холмск, Хотьково, Цивильск, Цимлянск, Циолковский, Чадан, Чайковский, Чапаевск, Чаплыгин, Чебаркуль, Чебоксары, Чегем, Чекалин, Челябинск, Чердынь, Черемхово, Черепаново, Череповец, Черкесск, Черноголовка, Черногорск, Чернушка, Черняховск, Чехов, Чистополь, Чита, Чкаловск, Чудово, Чулым, Чусовой, Чухлома, Чёрмоз, Шагонар, Шадринск, Шали, Шарыпово, Шарья, Шатура, Шахты, Шахтёрск, Шахунья, Шацк, Шебекино, Шелехов, Шенкурск, Шилка, Шимановск, Шиханы, Шлиссельбург, Шумерля, Шумиха, Шуя, Щигры, Щучье, Щёкино, Щёлкино, Щёлково, Электрогорск, Электросталь, Электроугли, Элиста, Энгельс, Эртиль, Югорск, Южа, Южно-Сахалинск, Южно-Сухокумск, Южноуральск, Юрга, Юрьев-Польский, Юрьевец, Юрюзань, Юхнов, Ядрин, Якутск, Ялта, Ялуторовск, Янаул, Яранск, Яровое, Ярославль, Ярцево, Ясногорск, Ясный, Яхрома'
        let array = cities.split(",")
        array = array.map(el => el.trim())

        $('.group').each(function() {
            let text = $(this).find('.group__single p.text').text()
            if (text === 'введите дату выхода (в формате 28082019)') {
                $(this).find('input').addClass('date').attr('readonly', 'readonly')
                $(function(){
                    $('.date').daterangepicker({
                        singleDatePicker: true,
                        locale: {
                            format: 'DDMMYYYY',
                            "daysOfWeek": [
                                "Вс",
                                "Пн",
                                "Вт",
                                "Ср",
                                "Чт",
                                "Пт",
                                "Сб"
                            ],
                            "monthNames": [
                                "Январь",
                                "Феварль",
                                "Март",
                                "Апрель",
                                "Май",
                                "Июнь",
                                "Июль",
                                "Август",
                                "Сентябрь",
                                "Октябрь",
                                "Ноябрь",
                                "Декабрь"
                            ],
                            "firstDay": 1
                        }
                    });
                });
            }
            if (text === 'введите номер рассылки' || text === 'введите номер поста (числом)' || text === 'введите номер размещения') {
                $(this).find('input').addClass('number').bind('change keyup input click', function() {
                    if (this.value.match(/[^0-9]/g)) {
                        this.value = this.value.replace(/[^0-9]/g, '')
                    }
                })
            }
            if (text === 'введите город базы') {

                $(this).find('input').autocomplete({
                    source: array
                })
            }
            if (text === 'введите ссылку на видео (например, https://www.youtube.com/watch?v=PvYwGE4o2oU)') {
                $(this).find('input').on('input', function() {
                    if ($(this).val() === '') {
                        $(this).removeClass('success')
                    }
                    if ($(this).val().length > 15) {
                        if (isValidUrl($(this).val())) {
                            $(this).addClass('success')
                        } else {
                            $(this).removeClass('success')
                        }
                    }
                })
                let input = $(this).find('input')
                $('button.next').click(function() {
                    if (!input.hasClass('success')) {
                        alert('Введена неверная ссылка')
                        return false
                    }
                })
            }
        })

        $('button.next').click(function() {
            let tmp
            $('.group').each(function() {
                let text = $(this).find('.group__single p.text').text()
                if (text === 'введите город базы') {
                    tmp = false
                    $(this).find('input').val()
                    for (var i = 0; i < array.length; i++) {
                        if (array[i] === $(this).find('input').val()) {
                            tmp = true
                        }
                    }
                    if (!tmp) {
                        alert('Неверно введенный город, проверьте правильность')
                    }
                }
            })
            if (!tmp) {
                return false
            }
        })

        function isValidUrl(url)
        {
            var objRE = /^(ftp|http|https):\/\/[^ "]+$/;
            return objRE.test(url);
        }
    })
</script>
{% endblock %}





